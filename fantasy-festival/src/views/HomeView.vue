<template>
    <!-- Henvisning til fonttype -->
    <link rel="stylesheet" href="../assets/main.css" type="text/css" charset="utf-8" />

    <!-- Karousel sektion -->
  <div id="demo" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <!-- Billede -->
        <img src="../assets/img/slide1.jpg" alt="slide" class="d-block w-100" />
        <div class="carousel-caption d-none d-md-block">
          <!-- Tekstboks - bred skærm -->
          <div class="text-box-left">
            <h3>Velkommen til Fantasy Quest Esbjerg</h3>
            <p>
              Her på siden finder du alle relevante informationer om årets
              Quest. <br />
              Vælg imellem en svær aftenudgave eller en familievenlig dagudgave
              under Fantasyfestivalen.
              <br />
              <br />Vi glæder os til at se dig!
            </p>
          </div>
        </div>
        <div class="carousel-caption d-block d-md-none">
          <!-- Tekstboks - smal skærm -->
          <div class="text-box-left-small">
            <h3>Velkommen til Fantasy Quest Esbjerg</h3>
            <p>Her på siden finder du alle relevante informationer om årets Quest.
              <br> Vælg imellem en svær aftenudgave eller en familievenlig dagudgave under Fantasyfestivalen.
              <br>
                <br>Vi glæder os til at se dig!
            </p>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <!-- Billede -->
        <img src="../assets/img/vk.jpg" alt="slide" class="d-block w-100" />
        <div class="carousel-caption d-none d-md-block">
          <!-- Tekstboks - bred skærm -->
          <div class="text-box-left">
            <h3>Mød de fire kæmper</h3>
            <p>
              Kæmperne er fire store, stærke og modige helte, som er udvalgt til
              at redde verden fra de onde magter.
              <br />
              <br />Deltag i årets Quest og hjælp dem!
            </p>
          </div>
        </div>
      <div class="carousel-caption d-block d-md-none">
          <!-- Tekstboks - smal skærm -->
          <div class="text-box-left-small">
            <h3>Mød de fire kæmper</h3>
            <p>Kæmperne er fire store, stærke og modige helte, som er udvalgt til at redde verden fra de onde magter.
              <br>
              <br>Deltag i årets Quest og hjælp dem!
            </p>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <!-- Billede -->
        <img src="../assets/img/lakse-karousel.png" alt="slide" class="d-block w-100" />
        <div class="carousel-caption d-none d-md-block">
          <!-- Tekstboks - bred skærm -->
          <div class="text-box-left">
            <h3>Mød Lakserytteren</h3>
            <p>
              Lakserytteren har i år været med til at skabe Fantasy Quest
              Esbjerg.
              <br />
              <br />Deltag i årets Quest og mød Lakserytteren!
            </p>
          </div>
        </div>
      <div class="carousel-caption d-block d-md-none">
          <!-- Tekstboks - smal skærm -->
          <div class="text-box-left-small">
            <h3>Mød Lakserytteren</h3>
            <p>Lakserytteren har i år været med til at skabe Fantasy Quest Esbjerg.
              <br>
                <br>Deltag i årets Quest og mød Lakserytteren!
            </p>
          </div>
        </div>
      </div>

      <div class="carousel-item">
      <!-- Billede -->
        <img src="../assets/img/slide4.jpg" alt="slide" class="d-block w-100" />
        <div class="carousel-caption d-none d-md-block">
          <!-- Tekstboks - bred skærm -->
          <div class="text-box-left">
            <h3>Et magisk univers</h3>
            <p>
              Du vil blive ført ind i et magisk univers, hvor monstre og
              mystiske væsner bor.
              <br />
              <br />Vi glæder os til at se dig!
            </p>
          </div>
        </div>
      <div class="carousel-caption d-block d-md-none">
          <!-- Tekstboks - smal skærm -->
          <div class="text-box-left-small">
            <h3>Et magisk univers</h3>
            <p>Du vil blive ført ind i et magisk univers, hvor monstre og mystiske væsner bor.
              <br>
                <br>Vi glæder os til at se dig!
            </p>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <!-- Billede -->
        <img src="../assets/img/aften.jpg" alt="slide" class="d-block w-100" />
        <div class="carousel-caption d-none d-md-block">
          <!-- Tekstboks - bred skærm -->
          <div class="text-box-left">
            <h3>Onde magter vil herske</h3>
            <p>
              Hjælp med at redde verden fra de onde magter. <br />Hvis du ønsker
              mere uhygge og spænding, så vælg årets aftenquest.
              <br />
              <br />Vi glæder os til at se dig!
            </p>
          </div>
        </div>
      <div class="carousel-caption d-block d-md-none">
          <!-- Tekstboks - smal skærm -->
          <div class="text-box-left-small">
            <h3>Onde magter vil herske</h3>
            <p>Hjælp med at redde verden fra de onde magter.
              <br>Hvis du ønsker mere uhygge og spænding, så vælg årets aftenquest.
              <br>
                <br>Vi glæder os til at se dig!
            </p>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <!-- Billede -->
        <img src="../assets/img/slide6.jpg" alt="slide" class="d-block w-100" />
        <div class="carousel-caption d-none d-md-block">
          <!-- Tekstboks - bred skærm -->
          <div class="text-box-left">
            <h3>Lade musikken guide dig</h3>
            <p>
              Du vil møde syngene og spilende væsner, som vil guide dig gennem
              Questen.
              <br />
              <br />Vi glæder os til at se dig!
            </p>
          </div>
        </div>
      <div class="carousel-caption d-block d-md-none">
          <!-- Tekstboks - smal skærm -->
          <div class="text-box-left-small">
            <h3>Lade musikken guide dig</h3>
            <p>Du vil møde syngene og spilende væsner, som vil guide dig gennem Questen.
              <br>
                <br>Vi glæder os til at se dig!
            </p>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <!-- Billede -->
        <img src="../assets/img/slide7.jpg" alt="slide" class="d-block w-100" />
        <div class="carousel-caption d-none d-md-block">
          <!-- Tekstboks - bred skærm -->
          <div class="text-box-left">
            <h3>Årets præmier</h3>
            <p>
              Der vil være præmier til de bedste helte, som har klaret Questen.
              <br />I år vil du både få ære, hæder og præmier.
              <br />
              <br />Der er både præmier til børn og voksne.
            </p>
          </div>
        </div>
      <div class="carousel-caption d-block d-md-none">
          <!-- Tekstboks - smal skærm -->
          <div class="text-box-left-small">
            <h3>Årets præmier</h3>
            <p>Der vil være præmier til de bedste helte, som har klaret Questen.
              <br>I år vil du både få ære, hæder og præmier.
              <br>
                <br>Der er både præmier til børn og voksne.
            </p>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <!-- Billede -->
        <img src="../assets/img/slide3.jpg" alt="slide" class="d-block w-100" />
        <div class="carousel-caption d-none d-md-block">
          <!-- Tekstboks - bred skærm -->
          <div class="text-box-left">
            <h3>Slip fantasien løs</h3>
            <p>
              Vi hjælper dig med at slippe fantasien løs og leve dig ind i en
              anden verden. <br />Tag familie og venner i hånden og få en
              oplevelse for livet.
              <br />
              <br />Vi glæder os til at se jer!
            </p>
          </div>
        </div>
      
      <div class="carousel-caption d-block d-md-none">
          <!-- Tekstboks - smal skærm -->
          <div class="text-box-left-small">
            <h3>Slip fantasien løs</h3>
            <p>Vi hjælper dig med at slippe fantasien løs og leve dig ind i en anden verden.
              <br>Tag familie og venner i hånden og få en oplevelse for livet.
              <br>
                <br>Vi glæder os til at se jer!
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Område til at skifte billede -->
    <button
      class="carousel-control-prev"
      type="button"
      data-bs-target="#demo"
      data-bs-slide="prev"
    >
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button
      class="carousel-control-next"
      type="button"
      data-bs-target="#demo"
      data-bs-slide="next"
    >
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>

  <!-- Sektion med de 3 cards på forsiden -->
  <section class="bg-green">
    <div class="container py-6">
      <div class="row justify-content-center">
        <!-- Første kort -->
        <div class="col-md-4">
          <div class="card-home">
            <!-- billede til kort -->
              <img src="../assets/img/drage.png" alt="" width="auto" height="70">
            <router-link to="/program">
              <!-- tekst til kort -->
            <div class="card-body">
              <h3 class="text-2xl font-bold">Fantasy Festival</h3>
              <p>
                Træd ind i det magiske univers, hvor monstre og mystiske væsner
                bor. Oplev spændende foredrag, fantastiske koncerter, det bedste
                fantasylitteratur, uhyggelige aktiviteter og som noget helt nyt:
                Fantasy Quest.
              </p>
            </div>
          </router-link>
          </div>
        </div>
        <!-- Andet kort -->
        <div class="col-md-4">
          <div class="card-home">
            <!-- billede til kort -->
              <img src="../assets/img/program.png" alt="" width="auto" height="70">
            <router-link to="/quest">
            <div class="card-body">
              <!-- Tekst til kort -->
              <h3 class="text-2xl font-bold">Fantasy Quest</h3>
              <p>
                Er du klar til at leve dig ind i en anden verden, en magisk
                historie, hvor du er helten, der er på en "quest" for at
                overvinde de onde magter og redde hele verden? Så gør dig klar
                til Fantasy Quest Esbjerg.
              </p>
            </div>
          </router-link>
          </div>
        </div>
        <!-- Tredje kort -->
        <div class="col-md-4">
          <div class="card-home">
            <!-- billede til kort -->
            <a href="https://www.ticketmaster.dk/artist/fantasyfestival-billetter/1233494">
              <img src="../assets/img/quest.png" alt="" width="auto" height="70">
            </a>
            <div class="card-body">
              <!-- Tekst til kort -->
              <h3 class="text-2xl font-bold">Billetter</h3>
              <p>
                Der er gratis adgang flere forskellige steder, men aktiviteter
                og foredrag kræver, at du køber et aktivitetsarmbånd. Bliv
                klogere på, hvad der er gratis, hvad du kan bruge
                aktivitetsarmbåndet til, hvad du gør med pladsreservation.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

<script>
/* Denne kode er en animation på kortne på forsiden.
Den gør at de flyver ind fra venstre og sætter sig.
Animationen bliver kun afspillet en gang, når kortene er synlige på skærmen.
*/
export default {
  mounted() {
    let animationPlayed = false;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting && !animationPlayed) {
            anime({
              targets: ".card-home",
              keyframes: [
                { translateX: [-1000, 0], opacity: [0, 1] },
                { translateX: [0, 50] },
                { translateX: [50, -30] },
                { translateX: [-30, 0] },
              ],
              easing: "easeInOutQuad",
              duration: 3000,
              delay: anime.stagger(200),
            });

            animationPlayed = true;
            observer.unobserve(entry.target);
          }
        });
      },
      {
        threshold: 0.1,
      }
    );

    document.querySelectorAll(".card-home").forEach((element) => {
      observer.observe(element);
    });
  },
};
</script>

<style scoped>
/* Stilen for hele karousellen */
.carousel-item {
  width: 100%;
  height: 100vh;
  position: relative;
}

/* Stilen for overlayet på billederne */
.carousel-item::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to right, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));
}

/* Stilen for billederne i karousellen */
.carousel-item img {
  width: 100%;
  height: 100vh;
  object-fit: cover;
}

/* Stilen for teksten i karousellen */
.carousel-item.active .carousel-caption {
  opacity: 1; 
}

/* Stilen for tekstboksen i karousellen */
.carousel-caption {
  position: sticky;
  bottom: 30%;
  left: 100px;
  display: inline-block;
  width: 90%; 
  max-width: 500px;
  text-align: left;
}

/* Stilen for tekstboksen i karousellen på små skærme */
.text-box-left {
  background: linear-gradient(270deg, rgba(80,180,165,1) 0%, rgba(14,35,66,0.8576680672268908) 0%);
  color: var(--gul);
  padding: 10px;
  border-radius: 5px;
}

/* Stilen for overskriften i tekstboksen */
.text-box-left h3 {
  font-size: 25px;
  font-weight: bold;
  margin-bottom: 10px;
}

/* Stilen for teksten i tekstboksen */
.text-box-left p {
  font-size: 16px;
  line-height: 1.5;
}

/* Stilen for tekstboksen i karousellen på små skærme */
.text-box-left-small {
  background: linear-gradient(270deg, rgba(80,180,165,1) 0%, rgba(14,35,66,0.8576680672268908) 0%);
  color: var(--gul);
  padding: 10px;
  border-radius: 5px;
}

/* Stilen for overskriften i tekstboksen */
.text-box-left-small {
  font-size: 14px;
}

/* Stilen for teksten i tekstboksen */
.text-box-left-small h3 {
  font-size: 18px;
}

/* Stilen for teksten i tekstboksen */
.text-box-left-small p {
  font-size: 12px;
}

/* Stilen for områderne til at skifte billede */
.carousel-control-prev,
.carousel-control-next {
  opacity: 0;
}

/* Stilen for områderne til at skifte billede ved hover */
.carousel:hover .carousel-control-prev,
.carousel:hover .carousel-control-next {
  opacity: 0;
}

/* Stilen for de 3 cards på forsiden */
.bg-green {
margin-top: 1rem;
}

/* Stilen for kortne */
.card-home {
  margin-bottom: 1rem;
  margin-left: 1rem;
  margin-right: 1rem;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  align-content: center;
  color: var(--blåsort);
  border-radius: 5px;
  text-align: left;
  cursor: pointer;
}

/* stilen for link */
a:-webkit-any-link {
    color: var(--blåsort);
    cursor: pointer;
    text-decoration: none;
}

/* stilen for link ved hover */
a:-webkit-any-link:hover {
    color: var(--gul);
    cursor: pointer;
    text-decoration: none;
}

/* Hover-effekt for de 3 cards på forsiden */
.card-home:hover {
  background: linear-gradient(
    270deg,
    rgba(80, 180, 165, 1) 0%,
    rgba(14, 35, 66, 0.8576680672268908) 0%
  );
  color: var(--gul);
}

/* Stilen for billederne i de 3 cards */
.card-home a {
  margin-bottom: 1rem;
}


/* Stil på kort ved skærmbrede på max 768px */
@media (max-width: 768px){
  .card-home{
    background: linear-gradient(270deg, rgba(80,180,165,1) 0%, rgba(14,35,66,0.8576680672268908) 0%);
    color: var(--gul);

  }
}

/* Justering af karouselltekster for skærmbrede på max 980px */
@media (max-width: 980px) {
  .carousel-caption {
    
    bottom: 10%;
    left: 20px; 
    width: 90%;
  }
  
  .text-box-left {
    padding: 5px;
  }
  
  .text-box-left h3 {
    font-size: 20px;
  }
  
  .text-box-left p {
    font-size: 14px;
  }

  a:-webkit-any-link {
    color: var(--gul);
    cursor: pointer;
    text-decoration: none;
}
}

/* Justering af karouselltekster for skærmbrede på max 768px */
@media (max-width: 768px) {
  .carousel-caption {
    position: absolute;
    bottom: 10%;
    left: 10px; /* Juster for at passe bedre på meget små skærme */
    width: calc(100% - 20px); /* Sørg for at teksten tilpasser sig skærmen */
  }
  
  .text-box-left {
    padding: 5px;
  }
  
  .text-box-left h3 {
    font-size: 18px;
  }
  
  .text-box-left p {
    font-size: 12px;
  }

  .carousel-item img {
    
    width: 100%;
  }
}
</style>
