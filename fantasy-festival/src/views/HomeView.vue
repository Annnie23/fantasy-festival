<template>
  <div id="demo" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="../assets/img/slide1.jpg" alt="slide" class="d-block w-100">
        <div class="carousel-caption d-none d-md-block">
          <div class="text-box-left">
            <h3>Velkommen til Fantasy Quest Esbjerg</h3>
            <p>Her på siden finder du alle relevante informationer om årets Quest.
              <br> Vælg imellem en svær aftenudgave eller en familievenlig dagudgave under Fantasyfestivalen.
              <br>
                <br>Vi glæder os til at se dig!
            </p>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <img src="../assets/img/slide2.jpg" alt="slide" class="d-block w-100">
        <div class="carousel-caption d-none d-md-block">
          <div class="text-box-left">
            <h3>Mød de fire kæmper</h3>
            <p>Kæmperne er fire store, stærke og modige helte, som er udvalgt til at redde verden fra de onde magter.
              <br>
              <br>Deltag i årets Quest og hjælp dem!
            </p>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <img src="../assets/img/slide3.jpg" alt="slide" class="d-block w-100">
        <div class="carousel-caption d-none d-md-block">
          <div class="text-box-left">
            <h3>Mød Lakserytteren</h3>
            <p>Lakserytteren har i år været med til at skabe Fantasy Quest Esbjerg.
              <br>
                <br>Deltag i årets Quest og mød Lakserytteren!
            </p>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <img src="../assets/img/slide4.jpg" alt="slide" class="d-block w-100">
        <div class="carousel-caption d-none d-md-block">
          <div class="text-box-left">
            <h3>Et magisk univers</h3>
            <p>Du vil blive ført ind i et magisk univers, hvor monstre og mystiske væsner bor.
              <br>
                <br>Vi glæder os til at se dig!
            </p>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <img src="../assets/img/slide5.jpg" alt="slide" class="d-block w-100">
        <div class="carousel-caption d-none d-md-block">
          <div class="text-box-left">
            <h3>Onde magter vil herske</h3>
            <p>Hjælp med at redde verden fra de onde magter.
              <br>Hvis du ønsker mere uhygge og spænding, så vælg årets aftenquest.
              <br>
                <br>Vi glæder os til at se dig!
            </p>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <img src="../assets/img/slide6.jpg" alt="slide" class="d-block w-100">
        <div class="carousel-caption d-none d-md-block">
          <div class="text-box-left">
            <h3>Lade musikken guide dig</h3>
            <p>Du vil møde syngene og spilende væsner, som vil guide dig gennem Questen.
              <br>
                <br>Vi glæder os til at se dig!
            </p>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <img src="../assets/img/slide7.jpg" alt="slide" class="d-block w-100">
        <div class="carousel-caption d-none d-md-block">
          <div class="text-box-left">
            <h3>Årets præmier</h3>
            <p>Der vil være præmier til de bedste helte, som har klaret Questen.
              <br>I år vil du både få ære, hæder og præmier.
              <br>
                <br>Der er både præmier til børn og voksne.
            </p>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <img src="../assets/img/slide8.jpg" alt="slide" class="d-block w-100">
        <div class="carousel-caption d-none d-md-block">
          <div class="text-box-left">
            <h3>Slip fantasien løs</h3>
            <p>Vi hjælper dig med at slippe fantasien løs og leve dig ind i en anden verden.
              <br>Tag familie og venner i hånden og få en oplevelse for livet.
              <br>
                <br>Vi glæder os til at se jer!
            </p>
          </div>
        </div>
      </div>
    </div>


    <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>



  <section class="bg-green">
    <div class="container py-6">
      <div class="row justify-content-center">
        <div class="col-md-4">
          <div class="card-home">
            <a href="https://fantasyfestival.dk/">
              <img src="../assets/img/drage.png" alt="" width="auto" height="70">
            </a>
            <div class="card-body">
              <h3 class="text-2xl font-bold">Fantasy Festival</h3>
              <p>Træd ind i det magiske univers, hvor monstre og mystiske væsner bor. Oplev spændende foredrag,
                fantastiske koncerter, det bedste fantasylitteratur, uhyggelige aktiviteter og som noget helt nyt:
                Fantasy Quest.</p>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card-home">
            <a href="https://fantasyfestival.dk/fantasy-quest-esbjerg">
              <img src="../assets/img/program.png" alt="" width="auto" height="70">
            </a>
            <div class="card-body">
              <h3 class="text-2xl font-bold">Fantasy Quest</h3>
              <p>Er du klar til at leve dig ind i en anden verden, en magisk historie, hvor du er helten, der er på en
                "quest" for at overvinde de onde magter og redde hele verden? Så gør dig klar til Fantasy Quest Esbjerg.
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card-home">
            <a href="https://www.ticketmaster.dk/artist/fantasyfestival-billetter/1233494">
              <img src="../assets/img/quest.png" alt="" width="auto" height="70">
            </a>
            <div class="card-body">
              <h3 class="text-2xl font-bold">Billetter</h3>
              <p>Der er gratis adgang flere forskellige steder, men aktiviteter og foredrag kræver, at du køber et
                aktivitetsarmbånd. Bliv klogere på, hvad der er gratis, hvad du kan bruge aktivitetsarmbåndet til, hvad
                du gør med pladsreservation. </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</template>

<script>
export default {
  mounted() {
    // Opretter en IntersectionObserver for at observere, når elementer kommer ind i synsfeltet
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        // Hvis et element er synligt (intersecting)
        if (entry.isIntersecting) {
          // Animerer elementet med klassen 'card-home' med flere keyframes
          anime({
            targets: '.card-home',
            keyframes: [
              { translateX: [-1000, 0], opacity: [0, 1] }, // Flytter elementet fra -1000px til 0px og ændrer opacity fra 0 til 1
              { translateX: [0, 50] }, // Flytter elementet fra 0px til 50px
              { translateX: [50, -30] }, // Flytter elementet fra 50px til -30px
              { translateX: [-30, 0] } // Flytter elementet fra -30px til 0px
            ],
            easing: 'easeInOutQuad', // Angiver en easing-funktion for animationen
            duration: 3000, // Varigheden af animationen i millisekunder
            delay: anime.stagger(200) // Forsinker animationen for hver efterfølgende '.card-home'
          });

          // Stop med at observere elementet efter animationen
          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.1 // Tærskel for, hvornår observeren udløses (10% synlighed)
    });

    // Vælg alle elementer med klassen 'card-home' og begynd at observere dem
    document.querySelectorAll('.card-home').forEach((element) => {
      observer.observe(element);
    });
  }
};

</script>


<style scoped>

/* Stilen for hele karousellen */
.carousel {
  width: 100%;
  height: 100vh;
  object-fit: cover;
  position: absolute;
  top: 0;
  left: 0;
  z-index: -1;
}

/* Overlay gradient på hver karouselbillede */
.carousel-item::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to right, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));
}

/* Positionering og styling af karouselltekster */
.carousel-caption {
  position: absolute;
  bottom: 35%;
  left: 50px;
  display: inline-block;
}

/* Stilen for tekstboksen til venstre i karousellen */
.text-box-left {
  text-align: left;
  background: linear-gradient(270deg, rgba(80,180,165,1) 0%, rgba(14,35,66,0.8576680672268908) 0%);
  color: var(--gul);
  padding: 10px;
  width: auto;
  max-width: 500px;
  border-radius: 5px;
}

/* Stilen for overskriften i tekstboksen */
.text-box-left h3 {
  font-size: 25px;
  font-weight: bold;
  margin-bottom: 10px;
}

/* Stilen for teksten i tekstboksen */
.text-box-left p {
  font-size: 16px;
  line-height: 1.5;
}

/* Stilen for de 3 cards på forsiden */
.card-home {
  margin-bottom: 1rem;
  margin-left: 1rem;
  margin-right: 1rem;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  align-content: center;
  color: var(--blåsort);
  border-radius: 5px;
  text-align: left;
}

/* Hover-effekt for de 3 cards på forsiden */
.card-home:hover {
  background: linear-gradient(270deg, rgba(80,180,165,1) 0%, rgba(14,35,66,0.8576680672268908) 0%);
  color: var(--gul);
}

/* Stilen for billederne i de 3 cards */
.card-home a{
  margin-bottom: 1rem;
}

/* Justering af karouselltekster for mindre skærme */
@media (max-width: 980px) {
  .carousel-caption {
    bottom: 10%;
  }
}

</style>
